<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Configuration</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>Configuration<br>
<small>
[<a class="el" href="a00311.html">LibTDS API</a>]</small>
</h1>Handle reading of configuration. 
<a href="#_details">More...</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>TDSCONNECTINFO *&nbsp;</td><td valign=bottom><a class="el" href="a00304.html#a0">tds_read_config_info</a> (TDSSOCKET *tds, TDSLOGIN *login, TDSLOCALE *locale)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc"><a class="el" href="a00304.html#a0">tds_read_config_info()</a> will fill the tds connect_info structure based on configuration information gathered in the following order: 1) Program specified in TDSLOGIN structure 2) The environment variables TDSVER, TDSDUMP, TDSPORT, TDSQUERY, TDSHOST 3) A config file with the following search order: a) a readable file specified by environment variable FREETDSCONF b) a readable file in ~/.freetds.conf c) a readable file in $prefix/etc/freetds.conf 3) ~/.interfaces if exists 4) $SYBASE/interfaces if exists 5) TDS_DEF_* default values</em> <a href="#a0"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="a00304.html#a1">tds_fix_connect</a> (TDSCONNECTINFO *connect_info)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Fix configuration after reading it.</em> <a href="#a1"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="a00304.html#a4">tds_read_conf_file</a> (TDSCONNECTINFO *connect_info, const char *server)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Read configuration info for given server return 0 on error.</em> <a href="#a4"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="a00304.html#a7">tds_read_conf_section</a> (FILE *in, const char *section, TDSCONFPARSE tds_conf_parse, void *param)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Read a section of configuration file (INI style file).</em> <a href="#a7"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="a00304.html#a15">tds_config_verstr</a> (const char *tdsver, TDSCONNECTINFO *connect_info)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Set TDS version from given string.</em> <a href="#a15"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="a00304.html#a16">tds_set_interfaces_file_loc</a> (const char *interf)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Set the full name of interface file.</em> <a href="#a16"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="a00304.html#a17">tds_lookup_host</a> (const char *servername, char *ip)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Given a servername and port name or number, lookup the hostname and service.</em> <a href="#a17"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top><a name="a24" doxytag="config::tds_get_compiletime_settings"></a>
const <a class="el" href="a00129.html">TDS_COMPILETIME_SETTINGS</a> *&nbsp;</td><td valign=bottom><a class="el" href="a00304.html#a24">tds_get_compiletime_settings</a> (void)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Return a structure capturing the compile-time settings provided to the configure script.</em><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Handle reading of configuration.
<p>
<hr><h2>Function Documentation</h2>
<a name="a15" doxytag="tds/config.c::tds_config_verstr"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void tds_config_verstr </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>tdsver</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>TDSCONNECTINFO *&nbsp;</td>
          <td class="mdname" nowrap> <em>connect_info</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set TDS version from given string.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>tdsver</em>&nbsp;</td><td>tds string version </td></tr>
    <tr><td valign=top><em>connect_info</em>&nbsp;</td><td>where to store information </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a1" doxytag="tds/config.c::tds_fix_connect"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void tds_fix_connect </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">TDSCONNECTINFO *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>connect_info</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Fix configuration after reading it.
<p>
Currently this read some environment variables and replace some options.     </td>
  </tr>
</table>
<a name="a17" doxytag="tds/config.c::tds_lookup_host"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void tds_lookup_host </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>servername</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>ip</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Given a servername and port name or number, lookup the hostname and service.
<p>
The server ip will be stored in the string 'servername' in dotted-decimal notation. The service port number will be stored in string form in the 'port' parameter.<p>
If we can't determine both the IP address and port number then 'ip' and 'port' will be set to empty strings.     </td>
  </tr>
</table>
<a name="a4" doxytag="tds/config.c::tds_read_conf_file"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int tds_read_conf_file </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">TDSCONNECTINFO *&nbsp;</td>
          <td class="mdname" nowrap> <em>connect_info</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>server</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read configuration info for given server return 0 on error.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>connect_info</em>&nbsp;</td><td>where to store configuration </td></tr>
    <tr><td valign=top><em>server</em>&nbsp;</td><td>section of file configuration that hold configuration for a server </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a7" doxytag="tds/config.c::tds_read_conf_section"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int tds_read_conf_section </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">FILE *&nbsp;</td>
          <td class="mdname" nowrap> <em>in</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>section</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>TDSCONFPARSE&nbsp;</td>
          <td class="mdname" nowrap> <em>tds_conf_parse</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>param</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read a section of configuration file (INI style file).
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>in</em>&nbsp;</td><td>configuration file </td></tr>
    <tr><td valign=top><em>section</em>&nbsp;</td><td>section to read </td></tr>
    <tr><td valign=top><em>tds_conf_parse</em>&nbsp;</td><td>callback that receive every entry in section </td></tr>
    <tr><td valign=top><em>param</em>&nbsp;</td><td>parameter to pass to callback function </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a0" doxytag="tds/config.c::tds_read_config_info"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> TDSCONNECTINFO* tds_read_config_info </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">TDSSOCKET *&nbsp;</td>
          <td class="mdname" nowrap> <em>tds</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>TDSLOGIN *&nbsp;</td>
          <td class="mdname" nowrap> <em>login</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>TDSLOCALE *&nbsp;</td>
          <td class="mdname" nowrap> <em>locale</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<a class="el" href="a00304.html#a0">tds_read_config_info()</a> will fill the tds connect_info structure based on configuration information gathered in the following order: 1) Program specified in TDSLOGIN structure 2) The environment variables TDSVER, TDSDUMP, TDSPORT, TDSQUERY, TDSHOST 3) A config file with the following search order: a) a readable file specified by environment variable FREETDSCONF b) a readable file in ~/.freetds.conf c) a readable file in $prefix/etc/freetds.conf 3) ~/.interfaces if exists 4) $SYBASE/interfaces if exists 5) TDS_DEF_* default values
<p>
.tdsrc and freetds.conf have been added to make the package easier to integration with various Linux and *BSD distributions.     </td>
  </tr>
</table>
<a name="a16" doxytag="tds/config.c::tds_set_interfaces_file_loc"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int tds_set_interfaces_file_loc </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>interf</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the full name of interface file.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>interf</em>&nbsp;</td><td>file name </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr><address style="align: right;"><small>Generated on Sun Jun 13 18:55:27 2004 for FreeTDS API by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3 </small></address>
</body>
</html>
