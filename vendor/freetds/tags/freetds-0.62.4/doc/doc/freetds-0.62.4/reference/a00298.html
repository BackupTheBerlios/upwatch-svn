<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>db-lib internals</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>db-lib internals<br>
<small>
[<a class="el" href="a00297.html">db-lib API</a>]</small>
</h1>Functions called within <code>db-lib</code> for self-help. 
<a href="#_details">More...</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>RETCODE&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a0">dbsetlname</a> (LOGINREC *login, const char *value, int which)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Set the value of a string in a <code>LOGINREC</code> structure. Called by various macros to populate <em>login</em>.</em> <a href="#a0"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>RETCODE&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a1">dbsetllong</a> (LOGINREC *login, long value, int which)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Set an integer value in a <code>LOGINREC</code> structure. Called by various macros to populate <em>login</em>.</em> <a href="#a1"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>RETCODE&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a2">dbsetlshort</a> (LOGINREC *login, int value, int which)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Set an integer value in a <code>LOGINREC</code> structure. Called by various macros to populate <em>login</em>.</em> <a href="#a2"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>RETCODE&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a3">dbsetlbool</a> (LOGINREC *login, int value, int which)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Set a boolean value in a <code>LOGINREC</code> structure. Called by various macros to populate <em>login</em>.</em> <a href="#a3"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>DBPROCESS *&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a4">tdsdbopen</a> (LOGINREC *login, char *server)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Form a connection with the server.</em> <a href="#a4"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>RETCODE&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a5">dbresults_r</a> (DBPROCESS *dbproc, int recursive)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Recursively do what dbresults does, purportedly.</em> <a href="#a5"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>DBINT&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a6">dbcount</a> (DBPROCESS *dbproc)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Get count of rows processed.</em> <a href="#a6"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>RETCODE&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a7">dbrows</a> (DBPROCESS *dbproc)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Indicate whether a query returned rows.</em> <a href="#a7"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>RETCODE&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a8">dbcmdrow</a> (DBPROCESS *dbproc)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">See if the current command can return rows.</em> <a href="#a8"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>DBBOOL&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a9">dbdead</a> (DBPROCESS *dbproc)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Check if <em>dbproc</em> is an ex-parrot.</em> <a href="#a9"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>DBINT&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a10">dbcurrow</a> (DBPROCESS *dbproc)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Get number of the row currently being read.</em> <a href="#a10"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>STATUS&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a11">dbrowtype</a> (DBPROCESS *dbproc)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Get returned row's type.</em> <a href="#a11"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a12">dbcurcmd</a> (DBPROCESS *dbproc)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Get number of the row just returned.</em> <a href="#a12"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a13">dbtds</a> (DBPROCESS *dbproc)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Get the TDS version in use for <em>dbproc</em>.</em> <a href="#a13"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>DBINT&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a14">dblastrow</a> (DBPROCESS *dbproc)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Get number of the last row in the row buffer.</em> <a href="#a14"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>DBINT&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a15">dbfirstrow</a> (DBPROCESS *dbproc)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Get number of the first row in the row buffer.</em> <a href="#a15"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a16">dbiordesc</a> (DBPROCESS *dbproc)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Get file descriptor of the socket used by a <code>DBPROCESS</code> to read data coming from the server. (!).</em> <a href="#a16"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a17">dbiowdesc</a> (DBPROCESS *dbproc)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Get file descriptor of the socket used by a <code>DBPROCESS</code> to write data coming to the server. (!).</em> <a href="#a17"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>DBBOOL&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a18">dbisavail</a> (DBPROCESS *dbproc)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">See if a <code>DBPROCESS</code> is marked "available".</em> <a href="#a18"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a19">dbsetavail</a> (DBPROCESS *dbproc)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Mark a <code>DBPROCESS</code> as "available".</em> <a href="#a19"></a><em></em><br><br></td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="a00298.html#a20">_dblib_client_msg</a> (DBPROCESS *dbproc, int dberr, int severity, const char *dberrstr)</td></tr>
<tr><td>&nbsp;</td><td><em class="mdesc">Pass a server-generated error message to the client's installed handler.</em> <a href="#a20"></a><em></em><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Functions called within <code>db-lib</code> for self-help.
<p>
<hr><h2>Function Documentation</h2>
<a name="a20" doxytag="dblib.c::_dblib_client_msg"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int _dblib_client_msg </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">DBPROCESS *&nbsp;</td>
          <td class="mdname" nowrap> <em>dbproc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>dberr</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>severity</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>dberrstr</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Pass a server-generated error message to the client's installed handler.
<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>dbproc</em>&nbsp;</td><td>contains all information needed by db-lib to manage communications with the server. </td></tr>
    <tr><td valign=top><em>dberr</em>&nbsp;</td><td>error number </td></tr>
    <tr><td valign=top><em>severity</em>&nbsp;</td><td>severity level </td></tr>
    <tr><td valign=top><em>dberrstr</em>&nbsp;</td><td>null-terminated ASCII string, the error message. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Propogates return code of <a class="el" href="a00310.html#a28">tds_client_msg()</a>. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="a00310.html#a28">tds_client_msg()</a>. </dd></dl>
</p>
    </td>
  </tr>
</table>
<a name="a8" doxytag="dblib.c::dbcmdrow"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> RETCODE dbcmdrow </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">DBPROCESS *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dbproc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
See if the current command can return rows.
<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>dbproc</em>&nbsp;</td><td>contains all information needed by db-lib to manage communications with the server. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>SUCCEED</em>&nbsp;</td><td>Yes, it can. </td></tr>
    <tr><td valign=top><em>FAIL</em>&nbsp;</td><td>No, it can't. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Remarks:</b></dt><dd>Use <a class="el" href="a00270.html#a125">DBCMDROW()</a> macro instead. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="a00270.html#a125">DBCMDROW()</a>, <a class="el" href="a00297.html#a13">dbnextrow()</a>, <a class="el" href="a00297.html#a9">dbresults()</a>, <a class="el" href="a00270.html#a137">DBROWS()</a>, <a class="el" href="a00270.html#a138">DBROWTYPE()</a>. </dd></dl>
</p>
    </td>
  </tr>
</table>
<a name="a6" doxytag="dblib.c::dbcount"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> DBINT dbcount </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">DBPROCESS *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dbproc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get count of rows processed.
<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>dbproc</em>&nbsp;</td><td>contains all information needed by db-lib to manage communications with the server. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>for insert/update/delete, count of rows affected.</li><li>for select, count of rows returned, after all rows have been fetched. </li></ul>
</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="a00270.html#a126">DBCOUNT()</a>, <a class="el" href="a00297.html#a13">dbnextrow()</a>, <a class="el" href="a00297.html#a9">dbresults()</a>. </dd></dl>
</p>
    </td>
  </tr>
</table>
<a name="a12" doxytag="dblib.c::dbcurcmd"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int dbcurcmd </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">DBPROCESS *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dbproc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get number of the row just returned.
<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>dbproc</em>&nbsp;</td><td>contains all information needed by db-lib to manage communications with the server. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="a00270.html#a128">DBCURROW()</a>. </dd></dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000036">Todo:</a></b></dt><dd>Unimplemented. </dd></dl>
</p>
    </td>
  </tr>
</table>
<a name="a10" doxytag="dblib.c::dbcurrow"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> DBINT dbcurrow </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">DBPROCESS *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dbproc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get number of the row currently being read.
<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>dbproc</em>&nbsp;</td><td>contains all information needed by db-lib to manage communications with the server. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>ostensibly the row number, or 0 if no rows have been read yet. </dd></dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>0</em>&nbsp;</td><td>Always. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="a00270.html#a128">DBCURROW()</a>, <a class="el" href="a00297.html#a20">dbclrbuf()</a>, <a class="el" href="a00270.html#a130">DBFIRSTROW()</a>, <a class="el" href="a00297.html#a12">dbgetrow()</a>, <a class="el" href="a00270.html#a134">DBLASTROW()</a>, <a class="el" href="a00297.html#a13">dbnextrow()</a>, <a class="el" href="a00297.html#a51">dbsetopt()</a>,. </dd></dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000034">Todo:</a></b></dt><dd>Unimplemented. </dd></dl>
</p>
    </td>
  </tr>
</table>
<a name="a9" doxytag="dblib.c::dbdead"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> DBBOOL dbdead </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">DBPROCESS *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dbproc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Check if <em>dbproc</em> is an ex-parrot.
<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>dbproc</em>&nbsp;</td><td>contains all information needed by db-lib to manage communications with the server. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>TRUE</em>&nbsp;</td><td>process has been marked <em>dead</em>. </td></tr>
    <tr><td valign=top><em>FALSE</em>&nbsp;</td><td>process is OK. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Remarks:</b></dt><dd><a class="el" href="a00298.html#a9">dbdead()</a> does not communicate with the server. Unless a previously db-lib marked <em>dbproc</em> <em>dead</em>, <a class="el" href="a00298.html#a9">dbdead()</a> returns <code>FALSE</code>. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="a00297.html#a61">dberrhandle()</a>. </dd></dl>
</p>
    </td>
  </tr>
</table>
<a name="a15" doxytag="dblib.c::dbfirstrow"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> DBINT dbfirstrow </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">DBPROCESS *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dbproc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get number of the first row in the row buffer.
<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>dbproc</em>&nbsp;</td><td>contains all information needed by db-lib to manage communications with the server. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="a00270.html#a130">DBFIRSTROW()</a>, <a class="el" href="a00297.html#a20">dbclrbuf()</a>, <a class="el" href="a00270.html#a128">DBCURROW()</a>, <a class="el" href="a00297.html#a12">dbgetrow()</a>, <a class="el" href="a00270.html#a134">DBLASTROW()</a>, <a class="el" href="a00297.html#a13">dbnextrow()</a>, <a class="el" href="a00297.html#a51">dbsetopt()</a>. </dd></dl>
</p>
    </td>
  </tr>
</table>
<a name="a16" doxytag="dblib.c::dbiordesc"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int dbiordesc </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">DBPROCESS *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dbproc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get file descriptor of the socket used by a <code>DBPROCESS</code> to read data coming from the server. (!).
<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>dbproc</em>&nbsp;</td><td>contains all information needed by db-lib to manage communications with the server. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="a00297.html#a4">dbcmd()</a>, <a class="el" href="a00270.html#a131">DBIORDESC()</a>, <a class="el" href="a00270.html#a132">DBIOWDESC()</a>, <a class="el" href="a00297.html#a13">dbnextrow()</a>, <a class="el" href="a00297.html#a125">dbpoll()</a>, DBRBUF(), <a class="el" href="a00297.html#a9">dbresults()</a>, <a class="el" href="a00297.html#a57">dbsqlok()</a>, <a class="el" href="a00297.html#a122">dbsqlsend()</a>. </dd></dl>
</p>
    </td>
  </tr>
</table>
<a name="a17" doxytag="dblib.c::dbiowdesc"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int dbiowdesc </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">DBPROCESS *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dbproc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get file descriptor of the socket used by a <code>DBPROCESS</code> to write data coming to the server. (!).
<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>dbproc</em>&nbsp;</td><td>contains all information needed by db-lib to manage communications with the server. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="a00297.html#a4">dbcmd()</a>, <a class="el" href="a00270.html#a131">DBIORDESC()</a>, <a class="el" href="a00270.html#a132">DBIOWDESC()</a>, <a class="el" href="a00297.html#a13">dbnextrow()</a>, <a class="el" href="a00297.html#a125">dbpoll()</a>, DBRBUF(), <a class="el" href="a00297.html#a9">dbresults()</a>, <a class="el" href="a00297.html#a57">dbsqlok()</a>, <a class="el" href="a00297.html#a122">dbsqlsend()</a>. </dd></dl>
</p>
    </td>
  </tr>
</table>
<a name="a18" doxytag="dblib.c::dbisavail"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> DBBOOL dbisavail </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">DBPROCESS *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dbproc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
See if a <code>DBPROCESS</code> is marked "available".
<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>dbproc</em>&nbsp;</td><td>contains all information needed by db-lib to manage communications with the server. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Remarks:</b></dt><dd>Basically bogus. <code>FreeTDS</code> behaves the way Sybase's implementation does, but so what? Many <code>db-lib</code> functions set the <code>DBPROCESS</code> to "not available", but only <a class="el" href="a00298.html#a19">dbsetavail()</a> resets it to "available". </dd></dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>TRUE</em>&nbsp;</td><td><em>dbproc</em> is "available". </td></tr>
    <tr><td valign=top><em>FALSE</em>&nbsp;</td><td><em>dbproc</em> is not "available". </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="a00270.html#a133">DBISAVAIL()</a>. DBSETAVAIL(). </dd></dl>
</p>
    </td>
  </tr>
</table>
<a name="a14" doxytag="dblib.c::dblastrow"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> DBINT dblastrow </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">DBPROCESS *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dbproc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get number of the last row in the row buffer.
<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>dbproc</em>&nbsp;</td><td>contains all information needed by db-lib to manage communications with the server. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="a00270.html#a134">DBLASTROW()</a>, <a class="el" href="a00297.html#a20">dbclrbuf()</a>, <a class="el" href="a00270.html#a128">DBCURROW()</a>, <a class="el" href="a00270.html#a130">DBFIRSTROW()</a>, <a class="el" href="a00297.html#a12">dbgetrow()</a>, <a class="el" href="a00297.html#a13">dbnextrow()</a>, <a class="el" href="a00297.html#a51">dbsetopt()</a>. </dd></dl>
</p>
    </td>
  </tr>
</table>
<a name="a5" doxytag="dblib.c::dbresults_r"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> RETCODE dbresults_r </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">DBPROCESS *&nbsp;</td>
          <td class="mdname" nowrap> <em>dbproc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>recursive</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Recursively do what dbresults does, purportedly.
<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>dbproc</em>&nbsp;</td><td>contains all information needed by db-lib to manage communications with the server. </td></tr>
    <tr><td valign=top><em>recursive</em>&nbsp;</td><td>Not used. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Remarks:</b></dt><dd>Is this really an internal process and, if not, where is it documented? </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd></dd></dl>
</p>
    </td>
  </tr>
</table>
<a name="a7" doxytag="dblib.c::dbrows"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> RETCODE dbrows </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">DBPROCESS *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dbproc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Indicate whether a query returned rows.
<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>dbproc</em>&nbsp;</td><td>contains all information needed by db-lib to manage communications with the server. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="a00270.html#a137">DBROWS()</a>, <a class="el" href="a00270.html#a125">DBCMDROW()</a>, <a class="el" href="a00297.html#a13">dbnextrow()</a>, <a class="el" href="a00297.html#a9">dbresults()</a>, <a class="el" href="a00270.html#a138">DBROWTYPE()</a>. </dd></dl>
</p>
    </td>
  </tr>
</table>
<a name="a11" doxytag="dblib.c::dbrowtype"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> STATUS dbrowtype </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">DBPROCESS *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dbproc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get returned row's type.
<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>dbproc</em>&nbsp;</td><td>contains all information needed by db-lib to manage communications with the server. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="a00270.html#a138">DBROWTYPE()</a>. </dd></dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000035">Todo:</a></b></dt><dd>Unimplemented. </dd></dl>
</p>
    </td>
  </tr>
</table>
<a name="a19" doxytag="dblib.c::dbsetavail"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void dbsetavail </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">DBPROCESS *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dbproc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Mark a <code>DBPROCESS</code> as "available".
<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>dbproc</em>&nbsp;</td><td>contains all information needed by db-lib to manage communications with the server. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Remarks:</b></dt><dd>Basically bogus. <code>FreeTDS</code> behaves the way Sybase's implementation does, but so what? Many <code>db-lib</code> functions set the <code>DBPROCESS</code> to "not available", but only <a class="el" href="a00298.html#a19">dbsetavail()</a> resets it to "available". </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="a00270.html#a133">DBISAVAIL()</a>. DBSETAVAIL(). </dd></dl>
</p>
    </td>
  </tr>
</table>
<a name="a3" doxytag="dblib.c::dbsetlbool"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> RETCODE dbsetlbool </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LOGINREC *&nbsp;</td>
          <td class="mdname" nowrap> <em>login</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>value</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>which</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set a boolean value in a <code>LOGINREC</code> structure. Called by various macros to populate <em>login</em>.
<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>login</em>&nbsp;</td><td>the <code>LOGINREC*</code> to modify. </td></tr>
    <tr><td valign=top><em>value</em>&nbsp;</td><td>the value to set it to. </td></tr>
    <tr><td valign=top><em>which</em>&nbsp;</td><td>the field to set. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>SUCCEED</em>&nbsp;</td><td>the value was set. </td></tr>
    <tr><td valign=top><em>FAIL</em>&nbsp;</td><td>invalid value passed for <em>which</em>. </td></tr>
  </table>
</dl>
</p>
    </td>
  </tr>
</table>
<a name="a1" doxytag="dblib.c::dbsetllong"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> RETCODE dbsetllong </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LOGINREC *&nbsp;</td>
          <td class="mdname" nowrap> <em>login</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>value</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>which</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set an integer value in a <code>LOGINREC</code> structure. Called by various macros to populate <em>login</em>.
<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>login</em>&nbsp;</td><td>the <code>LOGINREC*</code> to modify. </td></tr>
    <tr><td valign=top><em>value</em>&nbsp;</td><td>the value to set it to. </td></tr>
    <tr><td valign=top><em>which</em>&nbsp;</td><td>the field to set. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>SUCCEED</em>&nbsp;</td><td>the value was set. </td></tr>
    <tr><td valign=top><em>FAIL</em>&nbsp;</td><td>anything other than <code>DBSETPACKET</code> was passed for <em>which</em>. </td></tr>
  </table>
</dl>
</p>
    </td>
  </tr>
</table>
<a name="a0" doxytag="dblib.c::dbsetlname"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> RETCODE dbsetlname </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LOGINREC *&nbsp;</td>
          <td class="mdname" nowrap> <em>login</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>value</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>which</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the value of a string in a <code>LOGINREC</code> structure. Called by various macros to populate <em>login</em>.
<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>login</em>&nbsp;</td><td>the <code>LOGINREC*</code> to modify. </td></tr>
    <tr><td valign=top><em>value</em>&nbsp;</td><td>the value to set it to. </td></tr>
    <tr><td valign=top><em>which</em>&nbsp;</td><td>the field to set. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>SUCCEED</em>&nbsp;</td><td>the value was set. </td></tr>
    <tr><td valign=top><em>FAIL</em>&nbsp;</td><td><code>DBSETHID</code> or other invalid <em>which</em> was tried. </td></tr>
  </table>
</dl>
</p>
    </td>
  </tr>
</table>
<a name="a2" doxytag="dblib.c::dbsetlshort"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> RETCODE dbsetlshort </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LOGINREC *&nbsp;</td>
          <td class="mdname" nowrap> <em>login</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>value</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>which</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set an integer value in a <code>LOGINREC</code> structure. Called by various macros to populate <em>login</em>.
<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>login</em>&nbsp;</td><td>the <code>LOGINREC*</code> to modify. </td></tr>
    <tr><td valign=top><em>value</em>&nbsp;</td><td>the value to set it to. </td></tr>
    <tr><td valign=top><em>which</em>&nbsp;</td><td>the field to set. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>SUCCEED</em>&nbsp;</td><td>the value was set. </td></tr>
    <tr><td valign=top><em>FAIL</em>&nbsp;</td><td>anything other than <code>DBSETHIER</code> was passed for <em>which</em>. </td></tr>
  </table>
</dl>
</p>
    </td>
  </tr>
</table>
<a name="a13" doxytag="dblib.c::dbtds"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int dbtds </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">DBPROCESS *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dbproc</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the TDS version in use for <em>dbproc</em>.
<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>dbproc</em>&nbsp;</td><td>contains all information needed by db-lib to manage communications with the server. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a <code>DBTDS*</code> token. </dd></dl>
<dl compact><dt><b>Remarks:</b></dt><dd>The integer values of the constants are counterintuitive. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="a00270.html#a441">DBTDS()</a>. </dd></dl>
</p>
    </td>
  </tr>
</table>
<a name="a4" doxytag="dblib.c::tdsdbopen"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> DBPROCESS* tdsdbopen </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">LOGINREC *&nbsp;</td>
          <td class="mdname" nowrap> <em>login</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>server</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Form a connection with the server.
<p>
<p><b>For internal use only.</b></p>
<p>
Called by the <code><a class="el" href="a00270.html#a637">dbopen()</a></code> macro, normally. If FreeTDS was configured with <code>--enable-msdblib</code>, this function is called by (exported) <code><a class="el" href="a00270.html#a637">dbopen()</a></code> function. <code>tdsdbopen</code> is so-named to avoid namespace conflicts with other database libraries that use the same function name. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>login</em>&nbsp;</td><td><code>LOGINREC*</code> carrying the account information. </td></tr>
    <tr><td valign=top><em>server</em>&nbsp;</td><td>name of the dataserver to connect to. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>valid pointer on successful login. </dd></dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>NULL</em>&nbsp;</td><td>insufficient memory, unable to connect for any reason. </td></tr>
  </table>
</dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>use <code><a class="el" href="a00260.html#a3">asprintf()</a></code> to avoid buffer overflow. <p>
separate error messages for <em>no-such-server</em> and <em>no-such-user</em>. </dd></dl>
</p>
    </td>
  </tr>
</table>
<hr><address style="align: right;"><small>Generated on Sun Jun 13 18:55:27 2004 for FreeTDS API by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3 </small></address>
</body>
</html>
